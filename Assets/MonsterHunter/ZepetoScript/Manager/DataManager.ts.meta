fileFormatVersion: 2
guid: 0638d99bfe7b6164ba9495acf095f38d
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nexports.DataEnum = void 0;\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    UnityEngine_1 = require(\"UnityEngine\");\r\nconst ZEPETO_Multiplay_1 = require(\"ZEPETO.Multiplay\");\r\nconst
    ZEPETO_Character_Controller_1 = require(\"ZEPETO.Character.Controller\");\r\nconst
    CombatController_1 = require(\"../Character/CombatController\");\r\nconst MultiplayManager_1
    = require(\"../../../Zepeto Multiplay Component/ZepetoScript/Common/MultiplayManager\");\r\nclass
    DataManager extends ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    constructor()
    {\r\n        super(...arguments);\r\n        this.characterData = new Map();\r\n       
    this.DataSet = [DataEnum.MaxHp, DataEnum.AD, DataEnum.Level, DataEnum.Exp];\r\n   
    }\r\n    static get instance() {\r\n        if (this.m_instance === null) {\r\n           
    this.m_instance = UnityEngine_1.GameObject.FindObjectOfType($typeof(DataManager));\r\n           
    if (this.m_instance === null) {\r\n                this.m_instance = new UnityEngine_1.GameObject(DataManager.name).AddComponent($typeof(DataManager));\r\n           
    }\r\n        }\r\n        return this.m_instance;\r\n    }\r\n    Awake() {\r\n       
    if (DataManager.m_instance !== null && DataManager.m_instance !== this) {\r\n           
    UnityEngine_1.GameObject.Destroy(this.gameObject);\r\n        }\r\n        else
    {\r\n            DataManager.m_instance = this;\r\n            UnityEngine_1.GameObject.DontDestroyOnLoad(this.gameObject);\r\n       
    }\r\n    }\r\n    Start() {\r\n        ZEPETO_Character_Controller_1.ZepetoPlayers.instance.OnAddedLocalPlayer.AddListener(()
    => {\r\n            this._room = MultiplayManager_1.default.instance.room;\r\n           
    this._localCharacter = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.LocalPlayer.zepetoPlayer.character;\r\n           
    this.GetAllPlayerData();\r\n            this._room.AddMessageHandler(\"onGetAllPlayerDataResult\",
    (message) => {\r\n                console.log(\"Get Success\");\r\n               
    for (let key of this.DataSet)\r\n                    this.characterData.set(key,
    message[key]);\r\n                this._localCharacter.GetComponent($typeof(CombatController_1.default)).SetCharacterData(this.characterData);\r\n           
    });\r\n        });\r\n    }\r\n    GetAllPlayerData() {\r\n        this._room.Send(\"GetAllPlayerData\");\r\n   
    }\r\n    SetDataStorage(key, value) {\r\n        const data = new ZEPETO_Multiplay_1.RoomData();\r\n       
    data.Add(\"key\", key);\r\n        data.Add(\"value\", value);\r\n        this._room.Send(\"onSetStorage\",
    data.GetObject());\r\n    }\r\n}\r\nexports.default = DataManager;\r\n/* Singleton
    */\r\nDataManager.m_instance = null;\r\nvar DataEnum;\r\n(function (DataEnum)
    {\r\n    DataEnum[\"MaxHp\"] = \"MaxHp\";\r\n    DataEnum[\"AD\"] = \"AD\";\r\n   
    DataEnum[\"Level\"] = \"Level\";\r\n    DataEnum[\"Exp\"] = \"Exp\";\r\n})(DataEnum
    = exports.DataEnum || (exports.DataEnum = {}));\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YU1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJEYXRhTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxpREFBcUQ7QUFDckQsNkNBQWtEO0FBQ2xELHVEQUFnRDtBQUNoRCw2RUFBMkU7QUFDM0Usb0VBQTZEO0FBQzdELCtHQUF3RztBQUV4RyxNQUFxQixXQUFZLFNBQVEscUNBQXFCO0lBQTlEOztRQUNXLGtCQUFhLEdBQXlCLElBQUksR0FBRyxFQUFrQixDQUFDO1FBQ3ZELFlBQU8sR0FBYSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQWlEcEcsQ0FBQztJQTNDVSxNQUFNLEtBQUssUUFBUTtRQUN0QixJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssSUFBSSxFQUFFO1lBQzFCLElBQUksQ0FBQyxVQUFVLEdBQUcsd0JBQVUsQ0FBQyxnQkFBZ0IsU0FBQyxXQUFXLEVBQUcsQ0FBQztZQUM3RCxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssSUFBSSxFQUFFO2dCQUMxQixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksd0JBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsWUFBWSxTQUFDLFdBQVcsRUFBRyxDQUFDO2FBQ2xGO1NBQ0o7UUFDRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDM0IsQ0FBQztJQUNPLEtBQUs7UUFDVCxJQUFJLFdBQVcsQ0FBQyxVQUFVLEtBQUssSUFBSSxJQUFJLFdBQVcsQ0FBQyxVQUFVLEtBQUssSUFBSSxFQUFFO1lBQ3BFLHdCQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUN2QzthQUFNO1lBQ0gsV0FBVyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7WUFDOUIsd0JBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDakQ7SUFDTCxDQUFDO0lBRUQsS0FBSztRQUNELDJDQUFhLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUU7WUFDdkQsSUFBSSxDQUFDLEtBQUssR0FBRywwQkFBZ0IsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO1lBQzVDLElBQUksQ0FBQyxlQUFlLEdBQUcsMkNBQWEsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUM7WUFDakYsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQywwQkFBMEIsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUNqRSxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUMzQixLQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPO29CQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQzlDLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxTQUFDLDBCQUFnQixHQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMvRixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVPLGdCQUFnQjtRQUNwQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFTSxjQUFjLENBQUMsR0FBRyxFQUFFLEtBQUs7UUFDNUIsTUFBTSxJQUFJLEdBQUcsSUFBSSwyQkFBUSxFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO0lBQ3JELENBQUM7O0FBakRMLDhCQW1EQztBQTdDRyxlQUFlO0FBQ0Esc0JBQVUsR0FBZ0IsSUFBSSxDQUFDO0FBNkNsRCxJQUFZLFFBS1g7QUFMRCxXQUFZLFFBQVE7SUFDaEIsMkJBQWUsQ0FBQTtJQUNmLHFCQUFTLENBQUE7SUFDVCwyQkFBZSxDQUFBO0lBQ2YsdUJBQVUsQ0FBQTtBQUNkLENBQUMsRUFMVyxRQUFRLEdBQVIsZ0JBQVEsS0FBUixnQkFBUSxRQUtuQiJ9","assetPath":"Assets/MonsterHunter/ZepetoScript/Manager/DataManager.ts","manifest":{"properties":[{"assembly":"mscorlib","name":"DataSet","type":"System.String[]","isArray":true,"initValue":["","","",""],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"DataManager","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: 3da45fcc1c5ae9db1d06e6b17684d56b
  onlyWriteTrigger: 0
